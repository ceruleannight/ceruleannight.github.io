
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
	<title>Offset Test</title>
	
	<script src="OffsetManager.js" type="text/javascript"></script>
	
	<script type="text/javascript">
	//*******************************************************
	function PageInit()
	{
		InitGrid();
	}
	//*******************************************************
	function InitGrid()
	{
		var cellSize=40;

		var html="";
		for(var y=0;y<11;y++)
		{
			for(var x=0;x<11;x++)
			{
				var xOff=x*(cellSize+1);
				var yOff=y*(cellSize+1);

				var idStr="cell_"+x+"_"+y;

				html+="<div id=\""+idStr+"\" "+
					"style=\"position:absolute; left:"+xOff+"px; top:"+yOff+"px; width:"+cellSize+"px; height:"+cellSize+"px; border:solid #000000 1px;\"></div>";
			}
		}

		document.getElementById("gridDiv").innerHTML=html;

		document.getElementById("cell_5_5").style.backgroundColor="#3030E0";

		var tierIndex=2;
		var px=5;
		var py=5;
		var tier=new OffsetTier(tierIndex);
		
		for(var i=0;i<tier.elementCount;i++)
		{
			var os=new Offset(tierIndex,i);
			os.x+=px;
			os.y+=py;

			var cellId="cell_"+os.x+"_"+os.y;
			var div=document.getElementById(cellId);
			if(!div){continue;}
			div.style.backgroundColor="#30E030";
			div.innerHTML=""+i;
		}
	}
	//*******************************************************
	</script>
	
	<style type="text/css">
	body{font-family:Verdana; font-size:12px;}
	.cell{border:solid 1px #A0A0A0;}
	</style>
</head>
<body onload="PageInit();">

<div id="gridDiv" style="position:relative; left:20px; top:20px;"></div>

</body>
</html>
